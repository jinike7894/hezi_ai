"use strict";var _createClass=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}!function(t){_createClass(o,[{key:"ready",value:function(){console.log("ready!");var o=this,a=t(window),r=this.$images;var i=function(e,n){var t=1<arguments.length&&void 0!==n?n:50,o=!0;return function(){if(!o)return!1;o=!1,setTimeout(function(){o=!0},t),e.call(null,arguments)}}(function(){if(0===r.length)return window.removeEventListener("scroll",i),i=null,console.log("[lazyLoadImg] 已完成加载，移除事件"),!1;for(var e=a.scrollTop()+a.height()+o.$threshold,n=0,t=0;t<r.length&&!(r[t].offset().top>e);t++)n++;o.$load(r.splice(0,n))});window.addEventListener("scroll",i),i()}},{key:"$load",value:function(e){e.forEach(function(e){e.attr("src",e.data("src"))})}},{key:"done",value:function(){this.$images.length?(this.$load(this.$images),this.$images.length=0):console.log("已全部加载")}}]);var e=o;function o(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200;_classCallCheck(this,o),"string"==typeof e&&(e=t(e)),this.$images=t.makeArray(e.filter("*[data-src]")).map(function(e){return t(e)}),this.$threshold=n}window.$$LazyLoadImg=e}(jQuery);