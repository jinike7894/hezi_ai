<form id="app-form" class="layui-form layuimini-form">

    <div class="layui-form-item">
        <label class="layui-form-label required">APP版本</label>
        <div class="layui-input-block">
            <input type="number" step="1" name="version" class="layui-input" lay-verify="required" placeholder="请输入APP版本" value="{:appconfig('upgrade','version')}">
            <tip>填写APP版本。</tip>
        </div>
    </div>
    
    <div class="layui-form-item">
        <label class="layui-form-label required">升级方式</label>
        <div class="layui-input-block">
            {foreach ['0'=>'非强制','1'=>'强制升级'] as $key=>$val}
            <input type="radio" v-model="forceupdate" name="forceupdate" lay-filter="forceupdate" value="{$key}" title="{$val}" {if $key==appconfig('upgrade','forceupdate')}checked{/if}>
            {/foreach}
            <tip>强制升级用户不能点击取消。</tip>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label required">升级包链接</label>
        <div class="layui-input-block">
            <input type="text" name="update_url" class="layui-input" lay-verify="required" placeholder="请输入升级包链接" value="{:appconfig('upgrade','update_url')}">
            <tip>填写升级包链接。</tip>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label required">升级内容</label>
        <div class="layui-input-block">
            <input type="text" name="update_tips" class="layui-input" lay-verify="required" placeholder="请输入升级内容" value="{:appconfig('upgrade','update_tips')}">
            <tip>填写升级内容,换行用\n。</tip>
        </div>
    </div>

    <div class="hr-line"></div>
    <div class="layui-form-item text-center">
        <button type="submit" class="layui-btn layui-btn-normal layui-btn-sm" lay-submit="data.config/save" data-refresh="false">确认</button>
        <button type="reset" class="layui-btn layui-btn-primary layui-btn-sm">重置</button>
    </div>

</form>

<script>
    var forceupdate = "{:appconfig('upgrade','forceupdate')}";
</script>